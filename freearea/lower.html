<style>
    /*フリーエリア内の要素に対するスタイルシート*/
    #button-move-menu {
        display: none;
        /*応急処置11/5*/
        position: absolute;
    }

    /*カスタムCSSに移動しました。Shaga*/
</style>

<style>
    /*スマホ用に使う*/
    /*全体設定*/
    #menu-mobile {
        float: left;
        overflow: hidden;
        width: calc(100%);
        margin: 50px 0px 100px 0px;
    }

    .for_mobile .user_body {
        font-size: 13px;
    }

    .for_mobile .menubody {
        margin-left: 10px;
    }

    .for_mobile #fc2wikimenu {
        /*display: none;*/
    }

    /*テーブル用*/
    .for_mobile table {
        min-width: 80%;
        /*小さく表示され過ぎることを避ける*/
    }

    .for_mobile td,
    .for_mobile th {
        min-width: 200px;
    }

    /*ボタンなど*/
    .for_mobile #header p {
        font-size: 40px;
        line-height: 2;
    }

    .for_mobile #button-move-florr {
        top: 30px;
        left: calc(50% + 240px - 60px);
    }

    .for_mobile #button-move-JPF {
        top: 30px;
        left: calc(50% - 240px - 60px);
    }

    .for_mobile #button-move-florr img,
    .for_mobile #button-move-JPF img {
        width: 120px;
    }

    .for_mobile #button-move-menu {
        display: block;
    }

    /*このCSSでは無効にされる属性はjavascriptで書き換える*/
</style>

<script>
/* -----------------------------------------------

florr.io JPwiki 総合管理システム

(c) florr.io JPwiki

----------------------------------------------- */



//window.florrが全てのwikiスクリプトを内包
window.florr = {}  //初期化

//レアリティ関連のデータ
window.florr.rarity = {};
($ => {
    //レアリティID　←→　配列番号
    $.id = {};
    $.id[$.id["Cm"] = 0] = "Cm";
    $.id[$.id["Un"] = 1] = "Un";
    $.id[$.id["Re"] = 2] = "Re";
    $.id[$.id["Ep"] = 3] = "Ep";
    $.id[$.id["Lg"] = 4] = "Lg";
    $.id[$.id["My"] = 5] = "My";
    $.id[$.id["Ul"] = 6] = "Ul";
    $.id[$.id["Sp"] = 7] = "Sp";

    //レアリティID　←→　レアリティ名
    $.name = {};
    $.name[$.name["Common"] = "Cm"] = "Common";
    $.name[$.name["Unusual"] = "Un"] = "Unusual";
    $.name[$.name["Rare"] = "Re"] = "Rare";
    $.name[$.name["Epic"] = "Ep"] = "Epic";
    $.name[$.name["Legendary"] = "Lg"] = "Legendary";
    $.name[$.name["Mythic"] = "My"] = "Mythic";
    $.name[$.name["Ultra"] = "Ul"] = "Ultra";
    $.name[$.name["Super"] = "Sp"] = "Super";

    //レアリティID　→　レアリティ色
    $.color = {
        background: {
            borderMask: "#00000030",    //フチの色（シェーダー）
            [$.id[0]]: "#7eef6d",
            [$.id[1]]: "#ffe65d",
            [$.id[2]]: "#4d52e3",
            [$.id[3]]: "#861fde",
            [$.id[4]]: "#de1f1f",
            [$.id[5]]: "#1fdbde",
            [$.id[6]]: "#ff2b75",
            [$.id[7]]: "#2bffa3"
        },
        text: {
            [$.id[0]]: "#000",
            [$.id[1]]: "#000",
            [$.id[2]]: "#fff",
            [$.id[3]]: "#fff",
            [$.id[4]]: "#fff",
            [$.id[5]]: "#000",
            [$.id[6]]: "#fff",
            [$.id[7]]: "#000"
        }
    }
})(window.florr.rarity);
window.florr.rarity.length = Object.keys(window.florr.rarity.id).length / 2;

window.florr.themeColor = (() => {
    const ROOT = getComputedStyle(document.documentElement);

    return {
        theme: ROOT.getPropertyValue('--c-theme'),
        subTheme_dark: ROOT.getPropertyValue('--c-subTheme_dark'),
        subTheme_light: ROOT.getPropertyValue('--c-subTheme_light'),
        dark_gray: ROOT.getPropertyValue('--c-dark_gray')
    }
})();

//ペタル、モブ関連のデータ
window.florr.database = {
    //モブの体力比
    mobHealthFactor: [1.0, 3.75, 13.5, 54, 405, 2430, 29160, 1312200],
    //既定アーマー
    defaultArmor: 0.8,
}

Object.assign(window.florr, {//Object.assign()でオブジェクトの完全上書きを防ぐ
    //許可されている外部スクリプト
    allowedScripts: {
        mobcode: {
            src: "/upload_dir/n/newflorrio/2b377803b2cc777dab98098388307c4a.js",
            funcName: "createPetalDataTable",
            type: "object"
        },
        petalcode: {
            src: "/upload_dir/n/newflorrio/4ba6f2fce07b2fe57aecb26c992ba6f2.js",
            funcName: "createPetalDataTable",
            type: "object"
        },
        petalinfo: {
            src: "/upload_dir/n/newflorrio/5eaa39b75dd5a649d94a1e2bea75125e.js",
            funcName: "createPetalInfoTable",
            type: "object"
        },
        mobinfo: {
            src: "/upload_dir/n/newflorrio/12713bb69933630c1404f319b40719ed.js",
            funcName: "createMobInfoTable",
            type: "object"
        },
        redirect: {
            src: "/upload_dir/n/newflorrio/020b3c85adbe1beded285dbc8d36dc1e.js",
            funcName: "redirect",
            type: "text"
        }
    },


    //loadsvg
    loadsvg() {
        orders = document.getElementsByClassName("getimg");
        if (orders.length == 0) return;
        for (let j = 0; j < orders.length; j++) {
            let string = orders[j].textContent;
            let number = 0;
            let link;
            for (let i = 0; i < string.length; i++) {
                if (string.substr(i, 1) == ":") {
                    link = "https://" + string.substr(i + 1);
                    break;
                }
                number *= 10;
                number += Number(string.substr(i, 1));
            }
            let image = document.createElement("img");
            image.src = link;
            image.width = number;
            orders[j].textContent = "";
            orders[j].appendChild(image);
        }
    },

    //文字装飾（テスト用、現在未使用）
    addColorB() {
        order = document.getElementById("black");
        if (!order) return;
        order.firstChild.style.color = "black";
    },

    //usercode（廃止検討）
    userCode() {
        orders = document.getElementsByClassName("usercode");
        if (orders.length == 0) return;
        for (let i = 0; i < orders.length; i++) {
            let code = orders[i].textContent;
            orders[i].innerHTML = code;

            console.log(`${i} userCodeが実行されました：`, code);
        }
    },

    //userscript（廃止検討）
    userScript() {
        orders = document.getElementsByClassName("userscript");
        if (orders.length == 0) return;
        for (let i = 0; i < orders.length; i++) {
            let code = orders[i].textContent;
            let script = document.createElement("script");
            script.innerText = code;
            script.textContent = code;
            orders[i].textContent = "";
            document.body.appendChild(script);

            console.log(`${i} userScriptが実行されました：`, code);
        }
    },

    //スマホ対応
    arrangeForMobile() {
        /*
        ・スマホ判別
        ・全体の表示サイズ調整
        ・メニュー調整
        ・それぞれのタグについて処理
            ・table,td,th,h2,button,inputのフォントサイズマシマシ
            ・table調整
        ・コメント欄のサイズ調整
        ・region修正 (2024/7/4)
        */
        {//メニュー表示ボタン（スマホのif文の中に入れないこと。CSSで条件指定済み。）
            const wrap = document.getElementById("wrap");

            const menuButton = document.createElement("div");
            menuButton.id = "menubutton";
            menuButton.textContent = "MENU";
            menuButton.setAttribute("data-cond", "open");
            menuButton.onclick = () => {
                const menuButton = document.getElementById("menubutton")
                const menu = document.getElementById("menu");

                switch (menuButton.getAttribute("data-cond")) {
                    case "open":
                        menuButton.setAttribute("data-cond", "close");
                        menu.setAttribute("data-cond", "open");
                        break;
                    case "close":
                        menuButton.setAttribute("data-cond", "open");
                        menu.setAttribute("data-cond", "close");
                        break;

                    default:
                        menuButton.setAttribute("data-cond", "open");
                        menu.setAttribute("data-cond", "close");
                        break;
                }
            };
            window.onresize = () => {
                const menu = document.getElementById("menu");

                if (window.innerWidth > 1250) {
                    menuButton.setAttribute("data-cond", "open");
                    menu.setAttribute("data-cond", "")
                };
            }
            const img = document.createElement("img");//閉じるボタン
            img.src = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCI+PHBhdGggaWQ9ImEiIGQ9Im0xLjE4IDEuMTggNy42NCA3LjY0IiBzdHlsZT0ic3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjIuMzY7c3Ryb2tlLWxpbmVjYXA6cm91bmQiLz48dXNlIGhyZWY9IiNhIiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA1IDUpIi8+PC9zdmc+";

            menuButton.appendChild(img);
            wrap.appendChild(menuButton);
        }
        if (navigator.userAgent.match(/iPhone|Android.+Mobile/)) {//スマホなら
            (() => { //全体の表示サイズ調整
                const adjText = '<div style="color:transparent;">おっと、この秘密のメッセージを君は見つけたようだね！とは言っても、これはスマホ版表示の調整のために生成されているものだから、見つけても特にいいことはないけれど。</div>';
                let userbodyElement = document.getElementsByClassName("user_body")[0];
                if (userbodyElement) userbodyElement.innerHTML += adjText;
            })();

            /*CSSメディアクエリにて対応
            const menuElement = document.getElementById("menu");
            menuElement.id = "menu-mobile"; //CSSを置き換え、メニューを下に降ろす
            document.getElementById("main").style.marginLeft = "0"; //画面幅に合わせる
            */


            function pushTagToArray(tag) { //タグを集めて配列に入れる
                let list = document.getElementsByTagName(tag);
                let array = [];
                for (let i = 0; i < list.length; i++) { array.push(list[i]); }
                return array;
            }
            const tableList = pushTagToArray("table");
            const tdList = pushTagToArray("td");
            const thList = pushTagToArray("th");

            /*フォントサイズはちょっと考え中です。fc2の仕組みが不明です。Shaga*/

            tableList.forEach(e => {
                e.style.width = "auto";
                e.parentNode.innerHTML = '<div style="display: block; overflow-x:scroll;">' + e.parentNode.innerHTML + '</div>'
            }); //スクロール可能なdivで包む
            [tdList, thList].forEach(list => { //テーブルの幅を拡大
                list.forEach(e => {
                    const value = parseInt(e.style.width);
                    const unit = e.style.width.substr((value + "").length);
                    if (unit.match(/.*px.*/)) e.style.width = value * 2 + unit;
                })
            })

            //コメント欄の表示ブレを修正（返信されたコメントはスマホだと表示が小さくなる。なぜかspanに包むと元に戻る）
            function adjustCommentSize(com) {
                for (let li of com.children) { //urの中のliそれぞれについて
                    let defaultText = li.innerHTML;
                    if (defaultText.match(/.*ul.*/)) { //ulタグが含まれている=>表示がおかしくなっているなら
                        li.innerHTML = "<span>" + defaultText + "</span>"; //spanで囲む
                        for (let com2 of li.firstChild.children) {
                            if (com2.tagName == "UL") {
                                adjustCommentSize(com2); //内部のulもそれぞれ調整
                            }
                        }
                    }
                }
            }

            let comments = document.getElementsByClassName("user_comment_list"); //コメント欄を取得
            for (let com of comments) {
                adjustCommentSize(com); //それぞれのコメント欄のulタグについて調整
            }

            {
                let regionButtonArr = [];
                let rb1 = document.getElementsByClassName("area_open");
                let rb2 = document.getElementsByClassName("area_close");
                for(let i = 0; i < rb1.length; i++) {
                    regionButtonArr.push(rb1[i]);
                }
                for(let i = 0; i < rb2.length; i++) {
                    regionButtonArr.push(rb2[i]);
                }
                for(let i = 0; i < regionButtonArr.length; i++) {
                    let regionButton = regionButtonArr[i];
                    let regionDiv = regionButton.nextElementSibling;
                    regionButton.addEventListener("click", () => {
                        if(regionDiv.style.display == "none") {
                            regionDiv.style.display = "block";
                            regionButton.className = "area_open";
                        }
                        else {
                            regionDiv.style.display = "none";
                            regionButton.className = "area_close";
                        }
                    })
                }
            }
        }
    },

    //外部スクリプト読み込み
    loadScripts() {
        /**
         * 関数が含まれる場合削除
         * @param {String} arg 
         * @returns {any}
         */
        const safetyProcessing = arg => {
            const OBJ = (new Function("return " + arg))();  //evalとほぼ同義だが、関数内の変数が外に出ない。スコープ汚染対策。
            if (typeof OBJ !== "object") {
                return undefined;
            } else {
                Object.keys(OBJ).forEach(property => {
                    if (typeof property === "function") OBJ[property] = undefined;
                });
                return JSON.stringify(OBJ);
            }
        }
        /**
         * urlにfetchしてテキストとして返す
         * @param {String} url 
         * @returns {String}
         */
        const fetchTo = url => {
            return new Promise(resolve => {
                fetch(url)
                    .then(res => res.text())
                    .then(text => resolve(text))

                    .catch(() => resolve(""));
            });
        }

        /**
         * メイン処理
         * @param {String} scriptName 
         */
        const load = async scriptName => {
            const OBJ = this.allowedScripts[scriptName];
            const USER_CLASSES = document.querySelectorAll(`.user_body span.${scriptName}`);

            for (let i = 0; i < USER_CLASSES.length; i++) {
                const ELM = USER_CLASSES[i];
                ELM.id = scriptName + i;
                ELM.style.display = "none";

                let arg;
                switch (OBJ.type) {
                    case "text":
                        arg = `"${ELM.id}","${ELM.textContent}"`;

                        break;
                    case "object":
                        arg = `"${ELM.id}",` + safetyProcessing(`{${ELM.textContent}}`);
                        break;
                    case "none":
                        arg = "";
                        break;

                    default:
                        arg = undefined;
                        break;
                }

                if (arg !== undefined) {
                    let script = await new Promise(resolve => {
                        resolve(fetchTo(OBJ.src));
                    });
                    script += `\n\r${OBJ.funcName}(${arg});`;

                    const NEW_FUNCTION = new Function(script);
                    NEW_FUNCTION();
                    console.log(`関数${OBJ.funcName}が次の引数を取り実行されました：\n`, arg);
                }
            }
        }

        Object.keys(this.allowedScripts).forEach(scriptName => load(scriptName));
    },

    //コメント投稿情報を強調表示チップ化
    prettierComment() {
        /**
         * li要素から直下のテキストのみ抽出し、元のテキストは削除
         * @param {HTMLLIElement} li
         * @returns {String}
         */
        const getChildText = li => {
            for (let i = 0; i < li.childNodes.length; i++) {
                const elm = li.childNodes[i];
                if (
                    elm.nodeName === '#text'
                    && elm.textContent.match(/^\s+$/) === null
                ) {
                    const text = elm.textContent;
                    elm.textContent = '';

                    return text;
                }
            }

            return '';
        };
        /**
         * 投稿情報を取得
         * 投稿形式：コメント␣---␣投稿者名␣(2000/01/01␣00:00:00)\n␣␣...
         * @param {String} post
         * @returns {RegExpMatchArray} 引数が適切なコメント形式だった場合
         * @returns {Object} 上記以外
         */
        const getPostData = post => post.match(
            /^\s*(?<comment>.+) --- (?<poster>.*) \((?<year>\d{4})\/(?<month>\d{2})\/(?<day>\d{2}) (?<h>\d{2}):(?<m>\d{2}):(?<s>\d{2})\)\s*$/
        )?.groups ?? {};
        /**
         * span要素をクラスを付与して生成
         * @param {Array} spanClasses
         * @returns {HTMLSpanElement}
         */
        const createSpanWithClass = (...spanClasses) => {
            const SPAN = document.createElement('span');
            if (spanClasses.length > 0) SPAN.classList.add(...spanClasses);
            return SPAN;
        };

        const COMMENTS = document.querySelectorAll('ul.user_comment_list li');
        [...COMMENTS].forEach(li => {
            const POST = getPostData(getChildText(li));

            const SPAN_POST = createSpanWithClass('comment_parent');

            const SPAN_POST_INFO = createSpanWithClass('comment_info');
            (parentSpan => {//  親Span要素内に投稿情報の子Span要素を挿入
                const SPAN_POSTER = createSpanWithClass('comment_poster');
                SPAN_POSTER.textContent = POST.poster === '' ? '名無し' : POST.poster;
　　　　　　　　if (POST.poster === '') SPAN_POSTER.style.color = "var(--c-text_black)";
                parentSpan.appendChild(SPAN_POSTER);

                const SPAN_DATE = createSpanWithClass('comment_date');
                SPAN_DATE.textContent = `${POST.year}年${POST.month}月${POST.day}日 ${POST.h}:${POST.m}:${POST.s}`;
                parentSpan.appendChild(SPAN_DATE);
            })(SPAN_POST_INFO);
            SPAN_POST.appendChild(SPAN_POST_INFO);

            const SPAN_POST_TEXT = createSpanWithClass();
            SPAN_POST_TEXT.textContent = POST.comment;
            SPAN_POST.appendChild(SPAN_POST_TEXT);

            (sibling => {
                if (sibling) {
                    sibling.before(SPAN_POST);
                } else {
                    li.appendChild(SPAN_POST);
                }
            })(li.querySelector("ul"));
        });
    },

    //ページ編集画面のカラーパレット
    pageEditingFunction() {
        const newColor = (rabel, color) => { return { rabel, color } };

        const colors = [
            {
                rabel: "wikiテーマカラー",
                content: [
                    newColor("wiki背景", window.florr.themeColor.theme),
                    newColor("表の枠", window.florr.themeColor.subTheme_dark),
                    newColor("表の背景", window.florr.themeColor.subTheme_light),
                ],
            },

            {
                rabel: "レアリティ",
                content: [
                    newColor("Common", window.florr.rarity.color.background[window.florr.rarity.id[0]]),
                    newColor("Unusual", window.florr.rarity.color.background[window.florr.rarity.id[1]]),
                    newColor("Rare", window.florr.rarity.color.background[window.florr.rarity.id[2]]),
                    newColor("Epic", window.florr.rarity.color.background[window.florr.rarity.id[3]]),
                    newColor("Legendary", window.florr.rarity.color.background[window.florr.rarity.id[4]]),
                    newColor("Mythic", window.florr.rarity.color.background[window.florr.rarity.id[5]]),
                    newColor("Ultra", window.florr.rarity.color.background[window.florr.rarity.id[6]]),
                    newColor("Super", window.florr.rarity.color.background[window.florr.rarity.id[7]]),
                ],
            },

            {
                rabel: "エリア",
                content: [
                    newColor("Garden", "#1fa861"),
                    newColor("Desert", "#ecdcb8"),
                    newColor("Ocean", "#5785ba"),
                    newColor("Jungle", "#009900"),
                    newColor("Fire Ant Hell", "#990000"),
                    newColor("Black Ant Hell", "#996644"),
                    newColor("Termite Hell", "#CC9900"),
                    newColor("Sewers", "#666633"),
                    //newColor("PvP", "#4d5e56"),
                    newColor("Hel", "#CC0000"),
                    //newColor("Battle Royal", "#000000"),
                ],
            },
        ]

        const createElement = {
            ribbon(options = {}) {
                const DIV = document.createElement("div");
                DIV.id = options.id;

                const TITLE = document.createElement("span");
                TITLE.classList.add(options.className);
                TITLE.textContent = options.title;

                DIV.appendChild(TITLE);

                return DIV;
            },
            section(options = {}) {
                const DIV = document.createElement("div");
                const TITLE = document.createElement("span");
                TITLE.classList.add(options.className);
                TITLE.textContent = options.title;

                DIV.appendChild(TITLE);

                return DIV;
            },
            colorPalette(options = {}) {
                const DIV_TOP = document.createElement("div");
                DIV_TOP.classList.add(options.className);

                const DIV_COLOR = document.createElement("div");
                DIV_COLOR.style.backgroundColor = options.color;
                DIV_COLOR.addEventListener("click", options.handler);

                const DIV_RABEL = document.createElement("span");
                DIV_RABEL.textContent = options.rabel;

                DIV_TOP.appendChild(DIV_COLOR);
                DIV_TOP.appendChild(DIV_RABEL);

                return DIV_TOP;
            },
        }

        const main = (options = {}) => {
            const COLOR_PALETTE = createElement.ribbon({
                id: "colorPalette",
                className: "ribbon_title",
                title: "",
            });

            colors.forEach(category => {
                const COLOR_CONTENT = category.content;

                const SECTION = createElement.section({
                    className: "colorPalette_title",
                    title: category.rabel,
                });
                const INCLUDE_COLORS = document.createElement("div");
                INCLUDE_COLORS.classList.add("colorPalette_palette");

                COLOR_CONTENT.forEach(colorInfo => {
                    const newColor = createElement.colorPalette({
                        color: colorInfo.color,
                        rabel: colorInfo.rabel,
                        className: "colorPalette_color",
                        handler() {
                            const EDITING_FIELD = {
                                value: options.editingField.value,
                                start: options.editingField.selectionStart,
                                end: options.editingField.selectionEnd,
                            }
                            const TEXT = {
                                before: EDITING_FIELD.value.slice(
                                    0,
                                    EDITING_FIELD.start
                                ),
                                selecting: EDITING_FIELD.value.slice(
                                    EDITING_FIELD.start,
                                    EDITING_FIELD.end
                                ),
                                after: EDITING_FIELD.value.slice(
                                    EDITING_FIELD.end,
                                    EDITING_FIELD.value.length
                                ),
                            }

                            options.editingField.value = `${TEXT.before}&color(${colorInfo.color}){${TEXT.selecting}}${TEXT.after}`;
                            options.editingField.selectionStart, options.editingField.selectionEnd = EDITING_FIELD.start;
                        }
                    });

                    INCLUDE_COLORS.appendChild(newColor);
                });

                SECTION.appendChild(INCLUDE_COLORS);
                COLOR_PALETTE.appendChild(SECTION);
            });

            options.toolbar.after(COLOR_PALETTE);
        }

        if (
            window.location.pathname.slice(1, 5) === "edit"
            || new URL(window.location).searchParams.get("cmd") === "edit"
        ) {
            main({
                toolbar: document.getElementById("toolbar"),
                editingField: document.getElementById("html"),
            });
        }
    },

    //リダイレクトされたかどうか検知してポップアップを表示
    redirect() {
        const ADR = (() => {
            const _ = new URL(location.href);
            return _.searchParams.get("rfrom");
        })();

        if (ADR) {
            const WRAP = document.getElementById("wrap");

            const ANM = {
                interval: 500,
                popup: 200,
                bg: 8000
            }
            const DIV = document.createElement("div");
            DIV.id = "redirect";
            DIV.style.display = "block";
            DIV.style.transition = `
        transform ${ANM.popup / 1000}s ease-out,
        opacity ${ANM.popup / 1000}s ease-out,
        background-position ${ANM.bg / 1000}s linear`;
            {
                const P = document.createElement("p");
                P.textContent = `「${ADR}」から転送されました。`;
                const A = document.createElement("a");
                A.textContent = "リダイレクトページの編集はこちら";
                A.href = `https://newflorrio.wiki.fc2.com/edit/${ADR}/`;

                DIV.appendChild(P);
                DIV.appendChild(A);
            }
            WRAP.appendChild(DIV);

            setTimeout(() => DIV.setAttribute("name", "open"), ANM.interval);
            setTimeout(() => DIV.setAttribute("name", "close"), ANM.interval + ANM.popup + ANM.bg);
            setTimeout(() => DIV.style.display = "none", ANM.interval + ANM.popup * 2 + ANM.bg);
        }
    }
});

//DOMツリー構築完了時に関数を実行
document.addEventListener("DOMContentLoaded", async e => {
    await window.florr.userCode();
    await window.florr.userScript();
    window.florr.pageEditingFunction();
    window.florr.loadScripts();  //非同期
    window.florr.prettierComment();
    window.florr.arrangeForMobile(); //他の全てのアレンジが終わった後に実行すること！
    window.florr.redirect();

    console.log(`DOMContentLoadedが実行されました：${e.eventPhase}`);//イベントリスナーの現在の状態確認用
});
//ページ読込み完了時に関数を実行
window.addEventListener("load", e => {
    window.florr.loadsvg();
    window.florr.addColorB();

    console.log(`loadが実行されました：${e.eventPhase}`);//イベントリスナーの現在の状態確認用
});

//???
(() => {
    const nf9348 = "data:image/png;base64,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";
    (() => {
        function async_digestMessage(message) {
            return new Promise(function (resolve) {
                var msgUint8 = new TextEncoder("utf-8").encode(message);
                crypto.subtle.digest('SHA-256', msgUint8).then(
                    function (hashBuffer) {
                        var hashArray = Array.from(new Uint8Array(hashBuffer));
                        var hashHex = hashArray.map(function (b) { return b.toString(16).padStart(2, '0') }).join('');
                        return resolve(hashHex);
                    });
            })
        }
        if (window.Promise && window.crypto) {
            async_digestMessage(deffForTips.funcForSmallChance.toString()).then(function (shatxt) {
                //console.log(shatxt);
                (shatxt === "d56ccefd9b46635e6db43efe642ea81054b5a5743955f51e0e4e745e4850c2fb") && changeIt();
                //console.log(shaAns)
            });
        } else {
            changeIt();
        };
        function changeIt() {
//console.log("good!");
            deffForTips[deffForTips["st" + "rA" + "ry"][18]] = function () {
                window["ch" + "an" + "ge" + "Te" + "xt" + "Fo" + "rT" + "ips"]("\u50c5" + "\u304b" + "\u5343" + "\u5206" + "\u306e" + "\u4e00" + "\u306e" + "\u78ba" + "\u7387" + "\u3067" + "\u8868" + "\u793a" + "\u3055" + "\u308c" + "\u308b" + "\u3053" + "\u306e" + "\u30e1" + "\u30c3" + "\u30bb" + "\u30fc" + "\u30b8" + "\u3002" + "\u904b" + "\u304b" + "\u52aa" + "\u529b" + "\u304b" + "\u5b9f" + "\u529b" + "\u304b" + "\u3001" + "\u305d" + "\u306e" + "\u58c1" + "\u3092" + "\u8d8a" + "\u3048" + "\u305f" + "\u3042" + "\u306a" + "\u305f" + "\u306b" + "\u3002" + "\u660e" + "\u65e5" + "\u306f" + "\u304d" + "\u3063" + "\u3068" + "\u3001" + "\u3044" + "\u3044" + "\u3053" + "\u3068" + "\u304c" + "\u3042" + "\u308a" + "\u307e" + "\u3059" + "\u3088" + "\u3002")
            };
        }
    })();
    const nvq32984 = "data:image/png;base64,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";
    if (Math.floor(Math.random() * (10 - 0)) === 1) {
        console.log(
            "%c ",
            `
        background-image:url("${nvq32984}");
        background-size: 100 %;
        padding: 100px;
        background-position: center;
        background-repeat: no-repeat;
        `
        );
        console.log("\u3044\u3064\u3082\u3000\u304d\u307f\u3092\u3000\u307f\u3066\u308b\u3088");
    } else {
        console.log(
            "%c ",
            `
        background-image:url("${nf9348}");
        background-size: 100 %;
        padding: 100px;
        background-position: center;
        background-repeat: no-repeat;
        `
        );
        console.log("\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u3088\u3046\u3053\u305d\uff01");
    }
})();
</script>
<div class="shakingIcon" id="florrlink">
    <a href="https://florr.io">
        <img src="https://newflorrio.wiki.fc2.com/upload_dir/n/newflorrio/cd18b709026d7bcbecc071ad2e6774db.png">
    </a>
</div>
<div class="shakingIcon" id="jpflink">
    <a href="https://discord.gg/9Gnhj6KXMc">
        <img src="https://newflorrio.wiki.fc2.com/upload_dir/n/newflorrio/thumb_5d440369fb5186081909350efa8687c5.png">
    </a>
</div>
<div id="button-move-menu">
    <object><a href="#menu-mobile">
            <img src="/image/menubtn.png">
        </a></object>
</div>



<!--使用フォント等のライセンス記入欄。絶対に消さないでください。-->
<div class="side_title">
    <h3>ライセンス事項</h3>
</div>
<a class="jump" href="https://mplusfonts.github.io"><b>M PLUS 1 Code</b></a>
<ul>
    <li>SIL Open Font License <br>(OFL)</li>
</ul>

<a class="jump" href="https://fonts.google.com/noto">
    <b>
        Noto Sans JP
        <br>
        Noto Sans Mono
        <br>
        Noto Color Emoji
    </b>
</a>
<ul>
    <li>SIL Open Font License <br>(OFL)</li>
</ul>

<a class="jump" href="https://ubuntu.com/legal/font-licence"><b>Ubuntu</b></a>
<ul>
    <li>Ubuntu font licence<br>Version 1.0</li>
</ul>

<br>
<p>本サイトはこれらの著作物を使用しています。</p>

<!--記入欄終わり-->

<!--
　　　　　　　　　　　殺伐としたソースにリンゴが！


                                      :@@@#                           
                                     #@@@@#                           
                                   :@@@@#:                            
                                  :*@@@#      :::::::::::::           
                                  #@@@#   :::::::::::::::::::::       
                                 :@@@@  ::::::::::::::::::::::        
                     *****       #@@@::::::::::::::::::::::           
               *****************:@@@@::::::::::::::::::**             
            *********************@@@@*****:::::::::::*****            
          ************************@@************************          
         ****************************************************         
        ******************************************************        
       ********************************************************       
      **********************************************************      
      **********************************************************      
      **********************************************************      
      **********************************************************      
      **********************************************************      
      **********************************************************      
       ********************************************************       
       ********************************************************       
       ********************************************************       
        ******************************************************        
        ******************************************************        
         ****************************************************         
         ****************************************************         
          **************************************************          
           ************************************************           
            **********************************************            
             ********************************************             
              ******************************************              
                **************************************                
                 ************************************                 
                   ********************************                   
                     *********:::    :::*********                      

-->

<script>

</script>
